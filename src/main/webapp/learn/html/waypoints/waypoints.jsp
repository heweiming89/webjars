<%--
  Created by IntelliJ IDEA.
  User: heweiming
  Date: 2016/8/23
  Time: 17:19
  To change this template use File | Settings | File Templates.
--%>
<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<c:set var="ctx_path" value="${pageContext.request.contextPath }" />
<!doctype html>
<html class="no-js" lang="zh-CN">
<head>
<meta charset="utf-8">
<meta http-equiv="x-ua-compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
<title>Bootstrap 101 Template</title>
<link rel="apple-touch-icon" href="apple-touch-icon.png">
<!-- Place favicon.ico in the root directory -->
<meta name="description" content="">
<link rel="stylesheet" href="${ctx_path}/webjars/normalize.css/3.0.2/normalize.css">
<%--<link rel="stylesheet" href="css/main.css">--%>
<script src="${ctx_path}/webjars/modernizr/2.8.3/modernizr.min.js"></script>
<style>
table {
	width: 100%;
}

tr {
	font-size: 40px;
	height: 30px;
}

.stuck {
	position: fixed;
	top: 0;
}
</style>
</head>
<body>
	<!--[if lt IE 8]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://www.baidu.com">upgrade
    your browser</a> to improve your experience.</p>
<![endif]-->

	<!-- Add your site or application content here -->
	<h1 id="top_test">111111111111111111111111111111111</h1>
	<button id="testBtn" type="button">测试按钮</button>
	<table>
		<tbody id="wayBody">
			<tr>
				<td>测试01</td>
				<td>测试02</td>
				<td>测试03</td>
				<td>测试04</td>
				<td>测试05</td>
				<td>测试06</td>
			</tr>
			<tr>
				<td>测试01</td>
				<td>测试02</td>
				<td>测试03</td>
				<td>测试04</td>
				<td>测试05</td>
				<td>测试06</td>
			</tr>
			<tr>
				<td>测试01</td>
				<td>测试02</td>
				<td>测试03</td>
				<td>测试04</td>
				<td>测试05</td>
				<td>测试06</td>
			</tr>
			<tr>
				<td>测试01</td>
				<td>测试02</td>
				<td>测试03</td>
				<td>测试04</td>
				<td>测试05</td>
				<td>测试06</td>
			</tr>
			<tr>
				<td>测试01</td>
				<td>测试02</td>
				<td>测试03</td>
				<td>测试04</td>
				<td>测试05</td>
				<td>测试06</td>
			</tr>
			<tr>
				<td>测试01</td>
				<td>测试02</td>
				<td>测试03</td>
				<td>测试04</td>
				<td>测试05</td>
				<td>测试06</td>
			</tr>
			<tr>
				<td>测试01</td>
				<td>测试02</td>
				<td>测试03</td>
				<td>测试04</td>
				<td>测试05</td>
				<td>测试06</td>
			</tr>
			<tr>
				<td>测试01</td>
				<td>测试02</td>
				<td>测试03</td>
				<td>测试04</td>
				<td>测试05</td>
				<td>测试06</td>
			</tr>
			<tr>
				<td>测试01</td>
				<td>测试02</td>
				<td>测试03</td>
				<td>测试04</td>
				<td>测试05</td>
				<td>测试06</td>
			</tr>
			<tr>
				<td>测试01</td>
				<td>测试02</td>
				<td>测试03</td>
				<td>测试04</td>
				<td>测试05</td>
				<td>测试06</td>
			</tr>
			<tr>
				<td>测试01</td>
				<td>测试02</td>
				<td>测试03</td>
				<td>测试04</td>
				<td>测试05</td>
				<td>测试06</td>
			</tr>
			<tr>
				<td>测试01</td>
				<td>测试02</td>
				<td>测试03</td>
				<td>测试04</td>
				<td>测试05</td>
				<td>测试06</td>
			</tr>
			<tr>
				<td>测试01</td>
				<td>测试02</td>
				<td>测试03</td>
				<td>测试04</td>
				<td>测试05</td>
				<td>测试06</td>
			</tr>
			<tr>
				<td>测试01</td>
				<td>测试02</td>
				<td>测试03</td>
				<td>测试04</td>
				<td>测试05</td>
				<td>测试06</td>
			</tr>
			<tr>
				<td>测试01</td>
				<td>测试02</td>
				<td>测试03</td>
				<td>测试04</td>
				<td>测试05</td>
				<td>测试06</td>
			</tr>
			<tr>
				<td>测试01</td>
				<td>测试02</td>
				<td>测试03</td>
				<td>测试04</td>
				<td>测试05</td>
				<td>测试06</td>
			</tr>
			<tr>
				<td>测试01</td>
				<td>测试02</td>
				<td>测试03</td>
				<td>测试04</td>
				<td>测试05</td>
				<td>测试06</td>
			</tr>
			<tr>
				<td>测试01</td>
				<td>测试02</td>
				<td>测试03</td>
				<td>测试04</td>
				<td>测试05</td>
				<td>测试06</td>
			</tr>
			<tr class="waypoints11" data-waypoints="true">
				<td>测试01</td>
				<td>测试02</td>
				<td>测试03</td>
				<td>测试04</td>
				<td>测试05</td>
				<td>测试06</td>
			</tr>
		</tbody>
		<tfoot>
			<tr style="height: 600px; text-align: center">
				<td id="waypointsHint" colspan="6"></td>
			</tr>
		</tfoot>

	</table>

	<script src="${ctx_path}/webjars/jquery/2.2.4/jquery.min.js"></script>
	<script src="${ctx_path}/webjars/waypoints/4.0.0/lib/jquery.waypoints.min.js"></script>
	<script src="${ctx_path}/webjars/waypoints/4.0.0/lib/shortcuts/sticky.min.js"></script>

	<script>
		var serialNum = 0;
		var rowNum = 0;
		$(function() {

			$("#testBtn").on("click", function() {
				console.info($('.waypoints11').data());
			});

			scrollPageTurning($('.waypoints11'));

		});

		function scrollPageTurning(elem) {
			var waypoints = elem
					.waypoint(
							function(direction) {
								//             console.info($(this.element).data());
								//            console.info($(this).data());
								var data = $(this.element).data();
								console.info(data.waypoints);
								if (data.waypoints == true) {
									var str = "";
									var row = 30;
									var col = 6;
									for (var i = 1; i <= row; i++) {
										rowNum = ++serialNum;
										if (i == row) {
											str += '<tr class="waypoints11" data-waypoints="true">';
										} else {
											str += '<tr>';
										}
										for (var j = 1; j <= col; j++) {
											str += '<td>' + rowNum + '追加</td>'
										}
										str += '</tr>';
									}
									// 									debugger;
									$(this.element).data("waypoints","false");
									$(this.element).removeClass("waypoints11");
									console.info($(this.element).data());
									$("#wayBody").append($(str));
									$("#waypointsHint").html(
											'<h1>添加了 ' + rowNum + ' 次</h1>')
									console.info(this.element);
									scrollPageTurning($(".waypoints11"));
									console.info("成功追加");
									//                 alert("触发了");
									console.info("已经追加过了");
								} else {
									//                 alert("已经触发过了");
								}
							}, {
								offset : "5%"
							});
		}
	</script>
</body>
</html>
